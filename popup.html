<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<meta name="author" content="Victor Rhea" />

		<title>VTEX Snithcer</title>
		<link rel="stylesheet" href="design.css" />
	</head>
	<body>
		<div class="popup-container">
			<div class="header"><h1>vtexSnitch</h1></div>

			<div class="tabs">
				<div class="tab-header">
					<button class="tablink" data-tab="Content">&lt;storeInfo/&gt;</button>
					<button class="tablink" data-tab="Custom">&lt;productInfo/&gt;</button>
				</div>

				<!-- Content Tab -->
				<div id="Content" class="tabcontent">
					<div class="message message-account">
						<h2>VTEX Account</h2>
						<div id="store-account-holder" class="dynamic-text">
							✅ Account Name: <span id="store-account-holder__accoutName"></span>
						</div>
						<div id="store-account-subtext"></div>
					</div>

					<div class="message message-version">
						<h2 style="margin: 0">VTEX Code Version</h2>
						<div class="message-warn" style="margin-bottom: 3px">
							<span id="blinkDot">➡️</span> Check the version through homepage, PLP or PDP, <u>not</u> <i>cart</i> or
							<i>checkout</i>!
						</div>
						<div id="store-version" class="dynamic-text" style="padding: 0 4px"></div>
						<div id="store-version-subtext"></div>
					</div>

					<div class="message message-salesChannel">
						<h2>Sales Channel</h2>
						<div id="store-salesChannel-holder" class="dynamic-text">
							✅ Current SC: <span id="store-salesChannel"></span>
						</div>
						<div id="store-salesChannel-subtext"></div>
					</div>

					<div class="message message-pixels">
						<h2>Pixels/Scripts</h2>
						<span id="store-pixels"
							><table id="pixels-table">
								<thead>
									<tr>
										<th>Script</th>
										<th>Loaded</th>
										<th>Matches</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>
											<div class="icon-with-text">
												<img src="/img/ga4.png" alt="ga4-icon" class="icon" />
												<span>GA4</span>
											</div>
										</td>
										<td id="ga4-loaded"></td>
										<td id="ga4-ocurr"></td>
									</tr>
									<tr>
										<td>
											<div class="icon-with-text">
												<img src="/img/ga-ua.png" alt="ga-ua-icon" class="icon" />
												<span>GA Universal</span>
											</div>
										</td>
										<td id="ua-loaded"></td>
										<td id="gaUa-ocurr"></td>
									</tr>
									<tr>
										<td>
											<div class="icon-with-text">
												<img src="/img/gtm.png" alt="gtm-icon" class="icon" />
												<span>Google Tag Manager</span>
											</div>
										</td>
										<td id="gtm-loaded"></td>
										<td id="gtm-ocurr"></td>
									</tr>
									<tr>
										<td>
											<div class="icon-with-text">
												<img src="/img/meta.png" alt="meta-icon" class="icon" />
												<span>Meta Pixel</span>
											</div>
										</td>
										<td id="fb-pixel-loaded"></td>
										<td id="fb-ocurr"></td>
									</tr>
									<tr>
										<td>
											<div class="icon-with-text">
												<img src="/img/pinterest.png" alt="pinterest-icon" class="icon" />
												<span>Pinterest</span>
											</div>
										</td>
										<td id="pinterest-loaded"></td>
										<td id="pinterest-ocurr"></td>
									</tr>
									<tr>
										<td>
											<div class="icon-with-text">
												<img src="/img/taboola.jpg" alt="taboola-icon" class="icon" />
												<span>Taboola</span>
											</div>
										</td>
										<td id="taboola-loaded"></td>
										<td id="tab-ocurr"></td>
									</tr>
									<tr>
										<td>
											<div class="icon-with-text">
												<img src="/img/tiktok.png" alt="tiktok-icon" class="icon" />
												<span>TikTok</span>
											</div>
										</td>
										<td id="tiktok-loaded"></td>
										<td id="ttk-ocurr"></td>
									</tr>
								</tbody>
							</table>
							<div class="message-warn">
								⚠️ Matches >1 does not mean that events are fired twice, but might be good to check!
							</div>
							<div class="message-warn warn-2">
								➡️ Best way to confirm duplicated firing for events is identifying the pixel request through devtools >
								network tab.
							</div>
						</span>
					</div>
					<div class="message message-metaTags">
						<h2>Domain Verification Meta Tags</h2>
						<span id="store-metaTags"
							><table id="pixels-table">
								<thead>
									<tr>
										<th>Meta Tag</th>
										<th>Loaded</th>
										<th>Matches</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>
											<div class="icon-with-text">
												<img src="/img/google.png" alt="ga4-icon" class="icon" />
												<span>Google Site Verification</span>
											</div>
										</td>
										<td id="googleMeta-loaded"></td>
										<td id="googleMeta-ocurr"></td>
									</tr>

									<tr>
										<td>
											<div class="icon-with-text">
												<img src="/img/meta.png" alt="meta-icon" class="icon" />
												<span>Meta Domain Verification</span>
											</div>
										</td>
										<td id="facebookMeta-loaded"></td>
										<td id="facebookMeta-ocurr"></td>
									</tr>
									<tr>
										<td>
											<div class="icon-with-text">
												<img src="/img/pinterest.png" alt="pinterest-icon" class="icon" />
												<span>Pinterest Domain Verification</span>
											</div>
										</td>
										<td id="pinterestMeta-loaded"></td>
										<td id="pinterestMeta-ocurr"></td>
									</tr>
								</tbody>
							</table>
							<div class="message-warn">⚠️ Matches >1 should be checked in the code!</div>
							<div class="message-warn warn-2">
								➡️ As there are other ways to verify the domain besides meta tags, matches = 0 is not necessarily a
								problem.
							</div>
						</span>
					</div>
					<div class="extension-version">
						<div class="extension-version-wrapper">
							<div class="extension-version-code">v5.2j</div>
						</div>
					</div>
				</div>
			</div>

			<!-- Custom Tab -->
			<div id="Custom" class="tabcontent">
				<div class="input-container">
					<input type="text" id="cookieInput" placeholder="Enter your cookie value" />
					<button id="submitBtn">Submit</button>
				</div>

				<div class="message message-product-name">
					<h2>productId:</h2>
					<div id="product-name-holder" class="dynamic-text">
						<h3>productName:</h3>
					</div>
					<div id="product-name-subtext"></div>
				</div>
			</div>
		</div>

		<script src="popup.js"></script>
	</body>
</html>
